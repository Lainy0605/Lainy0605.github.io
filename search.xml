<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å…³äºnodeä¸€äº›æŠ¥é”™</title>
    <url>/2022/12/28/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<h1 id="Mysqlè®¤è¯å¤±è´¥"><a href="#Mysqlè®¤è¯å¤±è´¥" class="headerlink" title="Mysqlè®¤è¯å¤±è´¥"></a>Mysqlè®¤è¯å¤±è´¥</h1><ul>
<li><p>æŠ¥é”™å†…å®¹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;code&quot;</span>:<span class="string">&quot;ER_NOT_SUPPORTED_AUTH_MODE&quot;</span>,<span class="string">&quot;errno&quot;</span>:<span class="number">1251</span>,<span class="string">&quot;sqlMessage&quot;</span>:<span class="string">&quot;Client does not support authentication protocol requested by server; consider upgrading MySQL client&quot;</span>,<span class="string">&quot;sqlState&quot;</span>:<span class="string">&quot;08004&quot;</span>,<span class="string">&quot;fatal&quot;</span>:<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ¥é”™åŸå› </p>
<ul>
<li>mysql8.0é»˜è®¤å¯†ç è®¤è¯æ–¹æ¡ˆæ˜¯â€˜caching_sha2_passwordâ€™ï¼Œè€Œç›®å‰nodeé»˜è®¤çš„å¯†ç è®¤è¯æ–¹æ¡ˆæ˜¯â€™mysql_native_passwordâ€™ï¼Œæ‰€ä»¥æ— æ³•è®¤è¯æˆåŠŸ</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<ol>
<li><p>ç»ˆç«¯å¯åŠ¨mysql</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹å¯†ç è®¤è¯æ–¹å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;è¿™é‡Œå¡«rootç”¨æˆ·å¯†ç &#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡å¯æƒé™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€€å‡ºmysql</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; exit;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h1 id="sessionæŠ¥é”™undefined"><a href="#sessionæŠ¥é”™undefined" class="headerlink" title="sessionæŠ¥é”™undefined"></a>sessionæŠ¥é”™undefined</h1><ul>
<li><p>æŠ¥é”™åŸå› ï¼šå…ˆå‘é€äº†reså†è®¾ç½®çš„reqçš„session</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/captcha&#x27;</span>,<span class="keyword">function</span> (<span class="params">req,res</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> code = <span class="title function_">captcha</span>();</span><br><span class="line">    res.<span class="title function_">type</span>(<span class="string">&quot;svg&quot;</span>).<span class="title function_">send</span>(code.<span class="property">data</span>);</span><br><span class="line">    req.<span class="property">session</span>.<span class="property">captcha</span> = code.<span class="property">text</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£å†³æ–¹æ¡ˆï¼šäº¤æ¢é¡ºåº</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/captcha&#x27;</span>,<span class="keyword">function</span> (<span class="params">req,res</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> code = <span class="title function_">captcha</span>();</span><br><span class="line">    req.<span class="property">session</span>.<span class="property">captcha</span> = code.<span class="property">text</span>;</span><br><span class="line">    res.<span class="title function_">type</span>(<span class="string">&quot;svg&quot;</span>).<span class="title function_">send</span>(code.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Mysqlè¿æ¥å¤±è´¥"><a href="#Mysqlè¿æ¥å¤±è´¥" class="headerlink" title="Mysqlè¿æ¥å¤±è´¥"></a>Mysqlè¿æ¥å¤±è´¥</h1><ul>
<li><p>æŠ¥é”™å†…å®¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Error: connect ECONNREFUSED ::<span class="number">1</span>:<span class="number">3306</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ¥é”™åŸå› </p>
<ul>
<li>localhostæ²¡æœ‰å’Œ127.0.0.1æ˜ å°„</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<ol>
<li><p>å°†localhostæ˜ å°„ä¸º127.0.0.1ï¼Œå…·ä½“æ–¹æ³•ç•¥</p>
</li>
<li><p>å°†mysqlé…ç½®ä¸­hostæ›´æ”¹ä¸º127.0.01</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> mysql <span class="keyword">from</span> <span class="string">&#x27;mysql&#x27;</span></span><br><span class="line"><span class="keyword">let</span> connection = mysql.<span class="title function_">createConnection</span>(&#123;</span><br><span class="line">    host     : <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port     :  <span class="number">3306</span>,</span><br><span class="line">    user     : <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password : <span class="string">&#x27;030605&#x27;</span>,</span><br><span class="line">    database : <span class="string">&#x27;schema_userInfo&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line">connection.<span class="title function_">connect</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connection</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h1 id="dirnameæŠ¥é”™undefined"><a href="#dirnameæŠ¥é”™undefined" class="headerlink" title="__dirnameæŠ¥é”™undefined"></a>__dirnameæŠ¥é”™undefined</h1><ul>
<li><p>æŠ¥é”™å†…å®¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">ReferenceError</span>: __filename is not defined <span class="keyword">in</span> <span class="variable constant_">ES</span> <span class="variable language_">module</span> scope</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ¥é”™åŸå› </p>
<ul>
<li>åœ¨nodeä¸­ä½¿ç”¨ES Modulesè§„èŒƒæ—¶ï¼Œä»¥ä¸‹å…¨å±€å¯¹è±¡å’Œå˜é‡å°†ä¸å¯ç”¨<ul>
<li>require</li>
<li>module.exports</li>
<li>exports</li>
<li>__filename</li>
<li>__dirname</li>
<li>NODE_PATH</li>
</ul>
</li>
<li>å…·ä½“åŸå› å¯ä»¥æŸ¥çœ‹<a href="https://juejin.cn/post/7036744678749765640">è¿™ç¯‡åšå®¢</a></li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li><p>å¦‚æœè¦åœ¨ES Modulesè§„èŒƒä¸­ä½¿ç”¨__dirname</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// import.meta.url è¿”å›æ¨¡å—çš„ç»å¯¹çš„Â `file:`Â URLã€‚</span></span><br><span class="line"><span class="comment">// urlæ¨¡å—ä¸­fileURLToPath()å‡½æ•°ï¼Œè¿”å›å®Œå…¨è§£æçš„ç‰¹å®šäºå¹³å°çš„ Node.js æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">// pathæ¨¡å—ä¸­dirname()å‡½æ•°ï¼Œè¿”å›è·¯å¾„çš„ç›®å½•è·¯å¾„</span></span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath &#125; <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; dirname &#125; <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> __filename = <span class="title function_">fileURLToPath</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>);</span><br><span class="line"><span class="keyword">const</span> __dirname = <span class="title function_">dirname</span>(__filename);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="é‡å¤è®¾ç½®è¯·æ±‚å¤´"><a href="#é‡å¤è®¾ç½®è¯·æ±‚å¤´" class="headerlink" title="é‡å¤è®¾ç½®è¯·æ±‚å¤´"></a>é‡å¤è®¾ç½®è¯·æ±‚å¤´</h1><ul>
<li><p>æŠ¥é”™å†…å®¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Error</span> [<span class="variable constant_">ERR_HTTP_HEADERS_SENT</span>]: <span class="title class_">Cannot</span> set headers after they are sent to the client</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ¥é”™åŸå› </p>
<ul>
<li>res.send()è°ƒç”¨äº†å¤šæ¬¡</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>res.send()åå°±return</li>
<li>æ£€æŸ¥æ˜¯å¦æ˜¯å¼‚æ­¥çš„é—®é¢˜å¯¼è‡´res.send()è°ƒç”¨å¤šæ¬¡</li>
</ul>
</li>
</ul>
<h1 id="Uncaught-SyntaxError-Cannot-use-import-statement-outside-a-module"><a href="#Uncaught-SyntaxError-Cannot-use-import-statement-outside-a-module" class="headerlink" title="Uncaught SyntaxError Cannot use import statement outside a module"></a>Uncaught SyntaxError Cannot use import statement outside a module</h1><ul>
<li><p>æŠ¥é”™å†…å®¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Uncaught</span> <span class="title class_">SyntaxError</span> <span class="title class_">Cannot</span> use <span class="keyword">import</span> statement outside a <span class="variable language_">module</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ¥é”™åŸå› </p>
<ul>
<li>ä½¿ç”¨äº†es6çš„è¯­æ³•ï¼Œ æµè§ˆå™¨é»˜è®¤å°†å®ƒä½œä¸ºjsè§£æä¼šå‡ºç°é—®é¢˜</li>
</ul>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li><p><code>script</code>æ ‡ç­¾é»˜è®¤ä¸º<code>type=&quot;text/javascript&quot;</code>ï¼Œéœ€è¦æ”¹ä¸º<code>type=&quot;module&quot;</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;public/js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>mysql</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¾Šç¾Šæ—¥è®°</title>
    <url>/2022/12/22/%E7%BE%8A%E7%BE%8A%E6%97%A5%E8%AE%B0%E5%85%B6%E4%B8%80/</url>
    <content><![CDATA[<p>ä»Šå¤©å¤§çº¦å·²ç»æ˜¯è¿›å…¥ç¾Šåœˆçš„ç¬¬å››å¤©ã€‚</p>
<h1 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h1><p>é˜³çš„ç¬¬ä¸€å¤©ï¼Œå—“å­æœ‰å¹²æ¶©çš„æ„Ÿè§‰ï¼Œä½†ä¸ç—›ï¼Œå‘çƒ§ä¹Ÿåªæ˜¯è±¡å¾æ€§åœ°æ¸©åº¦æ¶¨äº†æ¶¨ã€‚æœ¬æ¥ä»¥ä¸ºå¥¥å¯†å…‹æˆä¸è¿‡å¦‚æ­¤ï¼Œè°æ–™ç«Ÿæ˜¯è±¡å¾æ€§åœ°å®¢æ°”ä¸€ä¸‹ï¼Œæ¥äº†æ‰‹å…ˆç¤¼åå…µ</p>
<h1 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h1><p>ç¬¬äºŒå¤©è…°å°±è¢«å·è¢­ï¼Œç–¼å¾—æˆ‘çŒä¸åŠé˜²ï¼Œé‚£ç§éšéšä½œç—›çš„æ„Ÿè§‰ï¼Œæè¿°èµ·æ¥å°±æ˜¯èƒ½å¤Ÿæ¸…æ¥šçš„æ„Ÿè§‰åˆ°ä¸¤è¾¹è…°ä¼ æ¥é˜µé˜µç—›æ„Ÿï¼Œä½†å´è¯´ä¸å‡ºåˆ°åº•æ˜¯å“ªå¤„ï¼Œå–‰å’™ä¹Ÿå¼€å§‹è½»å¾®ç—›</p>
<h1 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h1><p>å¼€å§‹è½»å¾®çš„æµé¼»æ¶•è¿˜é¼»å¡ï¼Œå–‰å’™ç»§ç»­ç—›ç—›ç—›ï¼Œè…°ä¸ç—›äº†å››è‚¢å¼€å§‹ç—›</p>
<h1 id="Day-4"><a href="#Day-4" class="headerlink" title="Day 4"></a>Day 4</h1><p>åˆ°äº†ä»Šå¤©ï¼Œä¹Ÿå°±æ˜¯é˜³å†å››å¤©ï¼Œæœ€ç–¼ç–¼ç–¼çš„è…°å·²ç»ä¸ç–¼äº†ï¼Œä¸æ­¤åŒæ—¶ä¹Ÿå–œæäº†ä¸€ä¸ªçº¢çº¢çš„é¼»å­ï¼Œæ²¡é”™å°±æ˜¯å°ä¸‘^o^çš„é‚£ä¸ªçº¢é¼»ã€‚å› ä¸ºç‹‚æµé¼»æ¶•ï¼Œå°±éœ€è¦ä¸€ç›´æ‹¿çº¸æ“¤é¼»æ¶•ã€‚æ„ˆæµã€æ„ˆæ“¤ã€æ„ˆçº¢ã€æ„ˆç—›ï¼Œè¯´èµ·æ¥é¼»å­æƒ³å¿…æ—©å°±ä¹ æƒ¯è¿™æ ·çš„äº‹æƒ…ï¼Œæ¯•ç«Ÿå¹³å¸¸æ„Ÿå†’é¼»å­ä¹Ÿä¼šé­å—è¿™æ ·çš„è‹¦éš¾</p>
<h1 id="Coclusion"><a href="#Coclusion" class="headerlink" title="Coclusion"></a>Coclusion</h1><p>è¿™æ¬¡ç¾Šå’Œå¹³å¸¸æ„Ÿå†’æœ€å¤§çš„ä¸åŒä¹‹å¤„ï¼Œå°±ä¸ªäººç»å†æ¥è¯´æ˜¯è…°é­å—äº†ä»æœªæœ‰è¿‡çš„æŠ˜ç£¨ã€‚ç½‘ä¸Šä¼ è¨€çš„å°åˆ€å‰Œå—“å­å…¶å®å’Œå¹³å¸¸æ„Ÿå†’çš„å’½ç—›å¦‚å‡ºä¸€è¾™ï¼Œç”šè‡³ä¸åŠæ„Ÿå†’ï¼Œå‘çƒ§ä¹Ÿåªæ˜¯å¾’æœ‰å…¶åè€Œæ— å…¶å®ã€‚ä¸çŸ¥æ˜å¤©ç—‡çŠ¶å¦‚ä½•ï¼Œæ˜¯å¦ä¼šè¢«æ‰“è„¸ğŸ˜´</p>
<p><em>psï¼šç›®å‰è¿˜æœªå—‘è¿‡è¯ï¼Œå…¨é å…ç–«åŠ›äº†</em></p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç¾Šç¾Šæ—¥è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¾Šç¾Šæ—¥è®°</title>
    <url>/2022/12/28/%E7%BE%8A%E7%BE%8A%E6%97%A5%E8%AE%B0%E5%85%B6%E4%BA%8C/</url>
    <content><![CDATA[<h1 id="Day-5"><a href="#Day-5" class="headerlink" title="Day 5"></a>Day 5</h1><p>å…¶ä»–ç—‡çŠ¶éƒ½æ— ï¼Œå”¯ç‹¬å¼€å§‹å’³å—½</p>
<h1 id="Day-6"><a href="#Day-6" class="headerlink" title="Day 6"></a>Day 6</h1><p>å’³å’³å’³å’³</p>
<h1 id="Day-7"><a href="#Day-7" class="headerlink" title="Day 7"></a>Day 7</h1><p>å’³å’³å’³å’³å’³æ­»äº†ã€‚</p>
<p>ç½‘ä¸Šè¯´å’³å—½æ˜¯ä¸€ä¸ªæ‰“æ‰«æˆ˜åœºçš„è¿‡ç¨‹ï¼Œè¿™åªæ€•æ˜¯æ‰“æ‰«çš„æœ‰äº¿ç‚¹ç‚¹ä¹…</p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç¾Šç¾Šæ—¥è®°</tag>
      </tags>
  </entry>
</search>
